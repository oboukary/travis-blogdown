<!DOCTYPE html>
<html lang="en-us">
  <head>
	<meta name="generator" content="Hugo 0.54.0" />
    <meta charset="utf-8">
    <title>Home | A minimal Hugo website</title>
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="stylesheet" href="/css/fonts.css" />
    
  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="/">Home</a></li>
      
      <li><a href="https://github.com/yihui/travis-blogdown">Github</a></li>
      
      <li><a href="https://github.com/rstudio/blogdown">Blogdown</a></li>
      
    </ul>
    <hr/>
    </nav>







<div id="travis-blogdown" class="section level1">
<h1>TRAVIS-BLOGDOWN</h1>
<div id="you-write-rmd-posts-and-travis-ci-does-the-rest-of-work" class="section level2">
<h2><em>You write (Rmd) posts, and Travis CI does the rest of work</em></h2>
<p>This is an example website on how to use Travis CI to build and deploy your website automatically. The idea can be applied to Github Pages, Amazon S3, and Netlify, etc. For this particular example, Iâ€™m using Github Pages.</p>
<p>Below are some R code chunks. First we show the content of <code>.travis.yml</code>:</p>
<pre class="r"><code>cat(readLines(&#39;../.travis.yml&#39;), sep = &#39;\n&#39;)</code></pre>
<pre><code>language: r
dist: xenial
latex: false

branches:
  only:
    - master

cache:
  packages: yes
  directories:
    - $HOME/bin

script:
  - Rscript -e &#39;blogdown::install_hugo()&#39;
  - Rscript -e &#39;blogdown::build_site()&#39;

deploy:
  provider: pages
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  on:
    branch: master
  local_dir: public
  fqdn: travis-blogdown.yihui.name</code></pre>
<p>Then we show the number of lines of each <code>.html</code> and <code>.css</code> file in the <code>hugo-xmin</code> theme:</p>
<pre class="r"><code># find ../themes/hugo-xmin \( -name &#39;*.html&#39; -o -name &#39;*.css&#39; \) | xargs wc -l
files = list.files(
  &#39;../themes/hugo-xmin&#39;, &#39;[.](html|css)$&#39;, recursive = TRUE, full.names = TRUE
)
lines = lapply(files, function(f) {
  data.frame(n = length(readLines(f)), file = f)
})
lines = do.call(rbind, lines)
lines = rbind(lines, data.frame(n = sum(lines$n), file = &#39;total&#39;))
knitr::kable(lines)</code></pre>
<table>
<thead>
<tr class="header">
<th align="right">n</th>
<th align="left">file</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">12</td>
<td align="left">../themes/hugo-xmin/exampleSite/layouts/partials/foot_custom.html</td>
</tr>
<tr class="even">
<td align="right">18</td>
<td align="left">../themes/hugo-xmin/layouts/_default/list.html</td>
</tr>
<tr class="odd">
<td align="right">12</td>
<td align="left">../themes/hugo-xmin/layouts/_default/single.html</td>
</tr>
<tr class="even">
<td align="right">16</td>
<td align="left">../themes/hugo-xmin/layouts/_default/terms.html</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td align="left">../themes/hugo-xmin/layouts/404.html</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">../themes/hugo-xmin/layouts/partials/foot_custom.html</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="left">../themes/hugo-xmin/layouts/partials/footer.html</td>
</tr>
<tr class="even">
<td align="right">0</td>
<td align="left">../themes/hugo-xmin/layouts/partials/head_custom.html</td>
</tr>
<tr class="odd">
<td align="right">19</td>
<td align="left">../themes/hugo-xmin/layouts/partials/header.html</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="left">../themes/hugo-xmin/static/css/fonts.css</td>
</tr>
<tr class="odd">
<td align="right">50</td>
<td align="left">../themes/hugo-xmin/static/css/style.css</td>
</tr>
<tr class="even">
<td align="right">148</td>
<td align="left">total</td>
</tr>
</tbody>
</table>
</div>
</div>


<ul>
  
</ul>

  <footer>
  
  
  <hr/>
  &copy; <a href="https://yihui.name">Yihui Xie</a> 2017 - 2019 | <a href="https://github.com/yihui">Github</a> | <a href="https://twitter.com/xieyihui">Twitter</a>
  
  </footer>
  </body>
</html>

